<!-- breeds-page.html -->
<div class="breeds-container">
  <div class="content-wrapper">
    <!-- Header con título -->
    <header class="page-header">
      <h1>Razas de Gatos</h1>
      <p class="subtitle">Explora nuestra colección de razas felinas</p>
    </header>

    <!-- Grid layout para tabla y preview -->
    <div class="main-content" [class.with-preview]="selectedBreed && images.length > 0">
      <!-- Columna izquierda: Tabla -->
      <div class="table-section">
        <app-breed-table 
          [breeds]="breeds"
          [selected-breed-id]="selectedBreed?.id"
          (breedSelected)="onBreedSelected($event)">
        </app-breed-table>
      </div>

      <!-- Columna derecha: Preview de imágenes -->
      <div *ngIf="selectedBreed && images.length > 0" class="preview-section">
        <div class="breed-info">
          <h2>{{ selectedBreed.name }}</h2>
          <p class="breed-description" *ngIf="selectedBreed.description">{{ selectedBreed.description }}</p>
        </div>

        <div class="carousel-wrapper">
          <div id="carouselExamples" class="carousel slide">
            <div class="carousel-inner">
              <div *ngFor="let img of images; let i = index" 
                   class="carousel-item" 
                   [class.active]="i === 0">
                <img [src]="img.url" [alt]="selectedBreed.name">
              </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExamples" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Anterior</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExamples" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Siguiente</span>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Tabla de razas -->
<div class="mat-elevation-z8 w-100">
  <table mat-table [dataSource]="breeds" class="w-100">
    
    <!-- Nombre -->
    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Nombre </th>
      <td mat-cell *matCellDef="let element"> {{ element.name }} </td>
    </ng-container>

    <!-- Origen -->
    <ng-container matColumnDef="origin">
      <th mat-header-cell *matHeaderCellDef> Origen </th>
      <td mat-cell *matCellDef="let element"> {{ element.origin }} </td>
    </ng-container>

    <!-- Vida -->
    <ng-container matColumnDef="life_span">
      <th mat-header-cell *matHeaderCellDef> Vida (años) </th>
      <td mat-cell *matCellDef="let element"> {{ element.life_span }} </td>
    </ng-container>

    <!-- Header y filas -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;" 
        (click)="selectFromTable(row)"
        [class.selected]="row.id === selectedBreed?.id"
        style="cursor: pointer;">
    </tr>
  </table>
</div>
